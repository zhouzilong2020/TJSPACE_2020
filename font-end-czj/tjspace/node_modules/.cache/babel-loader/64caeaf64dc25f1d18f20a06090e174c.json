{"remainingRequest":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/babel-loader/lib/index.js!/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/eslint-loader/index.js??ref--13-0!/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/src/services/userService.js","dependencies":[{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/src/services/userService.js","mtime":1599443563087},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY2hlbnppamllL0Rvd25sb2Fkcy9cdTY1NzBcdTYzNkVcdTVFOTNcdThCRkVcdTdBMEJcdThCQkVcdThCQTEvVEpTUEFDRS9USlNQQUNFXzIwMjAvZm9udC1lbmQtY3pqL3Rqc3BhY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLyDov5znqIvnmbvlvZXnlKjmiLfvvIHlk4jlk4gKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgVVJMIH0gZnJvbSAiLi9jb25maWciOwovKioKICog55m75b2V55So5oi355qEQVBJ5o6l5Y+j77yM5aaC5p6c5oiQ5Yqf6L+U5ZuedG9rZW7ku6Xlj4p1c2VySWTvvIzlubblsIZ0b2tlbu+8jHVzZXJJZOS/neWtmOWcqOa1j+iniOWZqOeahGxvY2Fsc3RvcmFnZeS4re+8mwogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBwYXlsb2Fk6ZyA6KaB5Lyg5YWlZW1haWzvvIxwYXNzd29yZAogKi8KCmV4cG9ydCBmdW5jdGlvbiBsb2dpblVzZXIoX3gpIHsKICByZXR1cm4gX2xvZ2luVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKiDkvb/nlKjmtY/op4jlmajkv53lrZjnmoR1c2VySWTlkox0b2tlbuadpeiOt+WPluaIkeaYr+iwge+8jOWmguaenHRva2Vu6L+H5pyf5YiZ5riF6Zmk5pys5Zyw5L+d5a2Y55qE5L+h5oGvCiAqLwoKZnVuY3Rpb24gX2xvZ2luVXNlcigpIHsKICBfbG9naW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBheWxvYWQpIHsKICAgIHZhciByZXNwOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb25zb2xlLmxvZygiaW4gdXNlclNldmljZSIsIHBheWxvYWQpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQoVVJMLCAiTG9naW4vbG9naW4iKSwgewogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgZW1haWw6IHBheWxvYWQuZW1haWwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7IC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3AudG9rZW4pOwoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcC5kYXRhKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfbG9naW5Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiB3aG9BbUkoKSB7CiAgcmV0dXJuIF93aG9BbUkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioKICog6YCA5Ye655m75b2V77yM5Yig6Zmk5pys5Zyw5L+d5a2Y55qEdG9rZW7lkox1c2VySWTkv6Hmga8KICovCgpmdW5jdGlvbiBfd2hvQW1JKCkgewogIF93aG9BbUkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgdmFyIHRva2VuOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKCiAgICAgICAgICAgIGlmICghKHRva2VuICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgdG9rZW4pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX3dob0FtSS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbG9nb3V0VXNlcigpIHsKICByZXR1cm4gX2xvZ291dFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioKICog5rOo5YaM55So5oi3QVBJ77yM5aaC5p6c5oiQ5Yqf6L+U5ZuedG9rZW7ku6Xlj4p1c2VySWTvvIzlubblsIZ0b2tlbu+8jHVzZXJJZOS/neWtmOWcqOa1j+iniOWZqOeahGxvY2Fsc3RvcmFnZeS4re+8mwogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBwYXlsb2Fk6ZyA6KaB5Lyg5YWlIGVtYWls77yMcGFzc3dvcmTvvIxuaWNrbmFtZe+8jOS7peWPiumCrueuseeahOebuOWFs+mqjOivgeeggQogKi8KCmZ1bmN0aW9uIF9sb2dvdXRVc2VyKCkgewogIF9sb2dvdXRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwogIHJldHVybiBfbG9nb3V0VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKF94MikgewogIHJldHVybiBfcmVnaXN0ZXJVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqCiAqIOeUn+aIkOS4gOS4qumqjOivgeeggQogKi8KCmZ1bmN0aW9uIF9yZWdpc3RlclVzZXIoKSB7CiAgX3JlZ2lzdGVyVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocGF5bG9hZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNCk7CiAgfSkpOwogIHJldHVybiBfcmVnaXN0ZXJVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldENvZGUoZGlnaXQpIHsKICB2YXIgbWluID0gTWF0aC5wb3coMTAsIGRpZ2l0KTsKICB2YXIgbWF4ID0gbWluICogMTA7CiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gLSAxKSkgKyBtaW47Cn0KLyoqCiAqIOmqjOivgeeUqOaIt+eahOmCrueuseS/oeaBrwogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZAogKi8KCgpleHBvcnQgZnVuY3Rpb24gc2VudEF1dGhDb2RlKF94MykgewogIHJldHVybiBfc2VudEF1dGhDb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9zZW50QXV0aENvZGUoKSB7CiAgX3NlbnRBdXRoQ29kZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocGF5bG9hZCkgewogICAgdmFyIGNvZGU7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb25zb2xlLmxvZygiaW4gdXNlclNldmljZSIsIHBheWxvYWQpOwogICAgICAgICAgICBjb2RlID0gIlRKU1BBQ0UtIiArIGdldENvZGUoMykudG9TdHJpbmcoKSArICItIiArIGdldENvZGUoMykudG9TdHJpbmcoKSArICItIiArIGdldENvZGUoMykudG9TdHJpbmcoKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIGNvZGUpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTUpOwogIH0pKTsKICByZXR1cm4gX3NlbnRBdXRoQ29kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0VXNlckluZm8oX3g0KSB7CiAgcmV0dXJuIF9nZXRVc2VySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0VXNlckluZm8oKSB7CiAgX2dldFVzZXJJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihwYXlsb2FkKSB7CiAgICB2YXIgcmVzcDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpOwogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KFVSTCwgIlNob3cvdXNlciIpLCB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogcGF5bG9hZC50b2tlbgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICB1c2VySWQ6IHBheWxvYWQudXNlcklkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlc3AuZGF0YS5kYXRhWzBdKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRVc2VySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/src/services/userService.js"],"names":["axios","URL","loginUser","payload","console","log","get","params","email","password","resp","data","whoAmI","token","localStorage","getItem","logoutUser","removeItem","registerUser","getCode","digit","min","Math","pow","max","floor","random","sentAuthCode","code","toString","getUserInfo","headers","Authorization","userId"],"mappings":"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","sourcesContent":["// 远程登录用户！哈哈\nimport axios from \"axios\";\nimport { URL } from \"./config\";\n\n/**\n * 登录用户的API接口，如果成功返回token以及userId，并将token，userId保存在浏览器的localstorage中；\n * @param {Object} payload payload需要传入email，password\n */\nexport async function loginUser(payload) {\n    console.log(\"in userSevice\", payload);\n    var resp = await axios.get(`${URL}Login/login`, {\n        params: {\n            email: payload.email,\n            password: payload.password\n        }\n    });\n    console.log(resp);\n    // localStorage.setItem(\"token\", resp.token);\n    return resp.data\n}\n\n/**\n * 使用浏览器保存的userId和token来获取我是谁，如果token过期则清除本地保存的信息\n */\nexport async function whoAmI() {\n    var token = localStorage.getItem(\"token\");\n    if (token != null) return token;\n    return null;\n}\n\n/**\n * 退出登录，删除本地保存的token和userId信息\n */\nexport async function logoutUser() {\n    localStorage.removeItem(\"token\");\n    return true\n}\n\n/**\n * 注册用户API，如果成功返回token以及userId，并将token，userId保存在浏览器的localstorage中；\n * @param {Object} payload payload需要传入 email，password，nickname，以及邮箱的相关验证码\n */\nexport async function registerUser(payload) {\n    console.log(payload);\n}\n\n/**\n * 生成一个验证码\n */\nfunction getCode(digit) {\n    let min = Math.pow(10, digit);\n    let max = min * 10;\n    return Math.floor(Math.random() * (max - min - 1)) + min;\n}\n/**\n * 验证用户的邮箱信息\n * @param {Object} payload\n */\nexport async function sentAuthCode(payload) {\n    console.log(\"in userSevice\", payload);\n    let code =\n        \"TJSPACE-\" +\n        getCode(3).toString() +\n        \"-\" +\n        getCode(3).toString() +\n        \"-\" +\n        getCode(3).toString();\n    return code;\n}\n\nexport async function getUserInfo(payload) {\n    console.log(payload)\n    var resp = await axios.get(`${URL}Show/user`, {\n        headers: {\n            Authorization: payload.token\n        },\n        params: {\n            userId: payload.userId\n        }\n    });\n    return resp.data.data[0];\n}\n"]}]}