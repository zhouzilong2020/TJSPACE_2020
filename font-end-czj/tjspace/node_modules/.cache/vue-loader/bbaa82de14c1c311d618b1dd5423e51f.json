{"remainingRequest":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/src/components/layout.vue?vue&type=style&index=0&id=ecebbf8c&scoped=true&lang=css&","dependencies":[{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/src/components/layout.vue","mtime":1599443563084},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenzijie/Downloads/数据库课程设计/TJSPACE/TJSPACE_2020/font-end-czj/tjspace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhlYWRlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMjVhYmNjOwp9Ci5ib2R5IHsKICB3aWR0aDogMTAwJTsKICBtYXJnaW46IDAgYXV0bzsKfQoKLmxvZ291dC1idG57CiAgbWFyZ2luLWxlZnQ6MTBweAp9Ci5kcmF3ZXItYnRuLXBlbmFsIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogLTQwcHg7Cn0KLmhlYWRlciAuaGVhZGVyLXNlYXJjaCB7CiAgY29sb3I6IGFsaWNlYmx1ZTsKfQoucGFnZS1mb290ZXIgLmZvb3Rlci1uYW1lIHsKICBtYXJnaW4tbGVmdDogMTBweDsKICBmb250LXNpemU6IDE2cHg7Cn0KLnBhZ2UtZm9vdGVyIC5mb290ZXItaWQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMTBweDsKICBmb250LXNpemU6IDE2cHg7Cn0K"},{"version":3,"sources":["layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"layout.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <q-layout view=\"hHh lpR fFf\">\n    <q-header reveal bordered class=\"bg-primary text-white\" height-hint=\"98\">\n      <q-toolbar>\n        <q-btn dense flat round icon=\"menu\" @click=\"drawer = !drawer\" />\n        <q-toolbar-title> TJSPACE · 同济大学社群 </q-toolbar-title>\n\n        <!-- 登录|注册 -->\n        <!-- 三种情况！ -->\n        <!-- 1.正在登录中 加载 -->\n        <!-- 2.登录成功 -->\n        <template v-if=\"token\">\n          <div class=\"text-caption\">欢迎您！{{ userInfo.nickname }}</div>\n          <q-input\n            dark\n            dense\n            standout\n            v-model=\"text\"\n            input-class=\"text-left\"\n            class=\"q-ml-md\"\n            placeholder=\"发现更多课程\"\n          >\n            <template v-slot:append>\n              <q-icon v-if=\"text === ''\" name=\"search\" />\n              <q-icon\n                v-else\n                name=\"clear\"\n                class=\"cursor-pointer\"\n                @click=\"text = ''\"\n              />\n            </template>\n          </q-input>\n          <q-btn\n              class=\"logout-btn\"\n              flat\n              @click=\"handleLogout()\"\n              label=\"退出登录\"\n            />\n        </template>\n\n        <template v-else>\n          <q-btn-group class=\"top-option\"  flat>\n            <q-btn\n              label=\"现在登录\"\n              :to=\"{ name: 'login' }\"\n            />\n            <q-btn\n              label=\"马上注册\"\n              :to=\"{ name: 'register' }\"\n            />\n          </q-btn-group>\n        </template>\n      </q-toolbar>\n    </q-header>\n\n    <!-- 侧边栏 -->\n    <q-drawer\n      class=\"drawer\"\n      show-if-above\n      flat\n      v-model=\"drawer\"\n      :width=\"225\"\n      :breakpoint=\"99999\"\n    >\n      <q-scroll-area\n        style=\"\n          height: calc(100% - 150px);\n          margin-top: 150px;\n          border-right: 1px solid #ddd;\n        \"\n      >\n        <q-list padding>\n          <q-item :active=\"active == 0\" @click=\"active = 0\" clickable v-ripple>\n            <q-item-section avatar>\n              <q-icon name=\"home\" />\n            </q-item-section>\n            <q-item-section>\n              <!-- 如何写路由！！！ -->\n\n              <router-link\n                :to=\"{ name: 'Homepage', params: { userid: 'lutianyi' } }\"\n                >个人主页</router-link\n              >\n            </q-item-section>\n          </q-item>\n\n          <q-item :active=\"active == 1\" @click=\"active = 1\" clickable v-ripple>\n            <q-item-section avatar>\n              <q-icon name=\"star\" />\n            </q-item-section>\n            <q-item-section> 我的收藏 </q-item-section>\n          </q-item>\n\n          <q-item :active=\"active == 2\" @click=\"active = 2\" clickable v-ripple>\n            <q-item-section avatar>\n              <q-icon name=\"drafts\" />\n            </q-item-section>\n            <q-item-section> 我的消息 </q-item-section>\n          </q-item>\n\n          <div class=\"drawer-btn-penal\">\n            <drawer-btn-penal />\n          </div>\n        </q-list>\n      </q-scroll-area>\n      <!-- 头部的背景图片和用户信息、头像 -->\n      <q-img class=\"absolute-top\" :src=\"avatarBGPath\" style=\"height: 160px\">\n        <div class=\"absolute-bottom bg-transparent\">\n          <q-avatar size=\"56px\" class=\"q-mb-sm\">\n            <img :src=\"avatarPath\" />\n          </q-avatar>\n          <template v-if=\"userInfo\">\n            <div class=\"text-weight-bold\">欢迎你！ {{ userInfo.nickname }}</div>\n            <!-- 这个没存user的Email啊 -->\n            <!-- <div>{{ userInfo.eMail }}</div> -->\n            <div> 这里我觉得要有邮箱？</div>\n          </template>\n          <template v-else>\n            <div class=\"text-weight-bold\">请先登录</div>\n          </template>\n        </div>\n      </q-img>\n    </q-drawer>\n\n    <q-page-container class=\"body\">\n      <!-- 你的内容将会被插入在这里 -->\n      <slot name=\"main\"></slot>\n    </q-page-container>\n\n    <!-- footer -->\n    <q-footer reveal bordered class=\"bg-grey-8 text-white page-footer\">\n      <q-toolbar>\n        <q-toolbar-title>\n          <span class=\"footer-name\">TJSPACE·同济大学社群</span>\n          <span class=\"footer-id\">津ICP备20006438号</span>\n        </q-toolbar-title>\n      </q-toolbar>\n    </q-footer>\n  </q-layout>\n</template>\n\n<script>\nimport DrawerBtnPenal from \"./DrawerBtnPenal\";\nimport { mapState } from \"vuex\";\nexport default {\n  components: {\n    DrawerBtnPenal,\n  },\n  data() {\n    return {\n      text: \"\",\n      active: -1,\n      drawer: false,\n      logoPath: require(\"../assets/TJU.png\"),\n      avatarPath: require(\"../assets/boy-avatar.png\"),\n      avatarBGPath: require(\"../assets/material.png\"),\n    };\n  },\n  props: {},\n  computed: {\n    ...mapState(\"userInfo\", [\"isLoading\", \"token\", 'userInfo']),\n\n  },\n  methods:{\n    async handleLogout(){\n      console.log(\"click logout btn\")\n      await this.$store.dispatch('userInfo/logoutUser')\n      // 成功退出\n      if(this.token == null){\n        console.log(\"logout user successfully\")\n        this.$router.push({\n          name: \"index\",\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.header {\n  background-color: #0025abcc;\n}\n.body {\n  width: 100%;\n  margin: 0 auto;\n}\n\n.logout-btn{\n  margin-left:10px\n}\n.drawer-btn-penal {\n  position: absolute;\n  left: -40px;\n}\n.header .header-search {\n  color: aliceblue;\n}\n.page-footer .footer-name {\n  margin-left: 10px;\n  font-size: 16px;\n}\n.page-footer .footer-id {\n  position: absolute;\n  right: 10px;\n  font-size: 16px;\n}\n</style>\n\n"]}]}